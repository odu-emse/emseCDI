var Y=Object.defineProperty;var N=Object.getOwnPropertySymbols;var P=Object.prototype.hasOwnProperty,L=Object.prototype.propertyIsEnumerable;var A=(s,t,r)=>t in s?Y(s,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):s[t]=r,j=(s,t)=>{for(var r in t||(t={}))P.call(t,r)&&A(s,r,t[r]);if(N)for(var r of N(t))L.call(t,r)&&A(s,r,t[r]);return s};var B=(s,t)=>{var r={};for(var a in s)P.call(s,a)&&t.indexOf(a)<0&&(r[a]=s[a]);if(s!=null&&N)for(var a of N(s))t.indexOf(a)<0&&L.call(s,a)&&(r[a]=s[a]);return r};import{r as o,R as e,L as $,M as V,u as D,P as G,a as Q,m as U,F as I,B as X,S as Z,b as S,c as ee}from"./vendor.582f132e.js";const te=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const l of n)if(l.type==="childList")for(const m of l.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&a(m)}).observe(document,{childList:!0,subtree:!0});function r(n){const l={};return n.integrity&&(l.integrity=n.integrity),n.referrerpolicy&&(l.referrerPolicy=n.referrerpolicy),n.crossorigin==="use-credentials"?l.credentials="include":n.crossorigin==="anonymous"?l.credentials="omit":l.credentials="same-origin",l}function a(n){if(n.ep)return;n.ep=!0;const l=r(n);fetch(n.href,l)}};te();const se=({open:s,video:t,module:r})=>(o.exports.useEffect(()=>{},[s]),e.createElement(e.Fragment,null,e.createElement($,{to:`/modules/${r}/${t}`},e.createElement("li",{className:`pl-8 transition-all hover:bg-gray-300 cursor-pointer ${s?"block":"hidden"}`},"Video ",t)))),ae=({index:s,dirr:t})=>{const[r,a]=o.exports.useState(!0);return o.exports.useState(),o.exports.useState([]),o.exports.useEffect(()=>{a(!1)},[]),e.createElement(e.Fragment,null,e.createElement($,{to:`/modules/${t.name}`},e.createElement("li",{className:"px-4 py-2 hover:bg-gray-300 cursor-pointer",key:t.name,onClick:()=>a(!r)},"Module ",t.name)),t.videos.map((n,l)=>e.createElement(se,{open:r,key:l,module:t.name,video:n})))},re=({title:s})=>{const[t,r]=o.exports.useState([]);return o.exports.useEffect(()=>{window.api.send("toMain","_"),window.api.receive("fromMain",a=>{r(a)})},[]),e.createElement("nav",{className:"flex flex-col lg:w-1/5 w-1/4 min-h-screen bg-gray-100 shadow-xl border-r-2 border-gray-200 py-2"},e.createElement($,{to:"/home",className:"mx-auto font-bold text-2xl"},e.createElement("h1",null,s)),e.createElement("ul",null,t.map((a,n)=>e.createElement(ae,{index:n,key:n,dirr:a}))))},k=async(s,t)=>{const r=await fetch(s);if(t==="md")return r.text();if(t==="json")return r.json()},_=({children:s})=>e.createElement("section",{className:"py-6 px-3 flex flex-col lg:w-4/5 w-3/4"},s),T=({content:s})=>e.createElement("article",null,e.createElement(V,{options:{overrides:{h1:{props:{className:"text-2xl font-bold text-gray-800"}},h2:{props:{className:"text-xl pb-2 text-gray-700"}},h3:{props:{className:"text-lg pb-1 text-gray-500"}},ul:{props:{className:"list-disc my-1 pl-8"}}}}},s)),ne=s=>s.replace(/\s+/gm," ").split(" ").join(" ").trim(),M={base:"focus:outline-none transition-all ease-in-out duration-300 py-2",size:{small:"px-2 py-1 text-sm",normal:"px-4 py-2",large:"px-8 py-3 text-lg"},variant:{primary:"bg-blue-500 hover:bg-blue-800 focus:ring-2 focus:ring-blue-500 focus:ring-opacity-50 text-white",secondary:"bg-gray-200 hover:bg-gray-800 focus:ring-2 focus:ring-gray-500 focus:ring-opacity-50 text-gray-900 hover:text-white",danger:"bg-red-500 hover:bg-red-800 focus:ring-2 focus:ring-red-500 focus:ring-opacity-50 text-white",next:"",prev:"",warning:"",disabled:"opacity-50 cursor-not-allowed",tabActive:"rounded-t-lg border-t-4 border-gray-50 bg-gray-300 mx-1",tabInactive:"rounded-t-lg border-t-4 border-gray-100 mx-1",default:"text-gray-400 hover:text-gray-800 text-md font-bold text-black border-b-2 border-transparent",active:"text-gray-800 text-md font-bold text-black border-b-2 border-gray-700",success:"bg-green-500 hover:bg-green-700 focus:ring-2 focus:ring-green-700 focus:ring-opacity-50 text-white"}},i=l=>{var m=l,{children:s,variant:t,className:r,size:a}=m,n=B(m,["children","variant","className","size"]);return e.createElement("button",j({className:ne(`
                ${M.base}
                ${M.size[a]}
                ${M.variant[t]}
                ${r}`)},n),s)},le=({data:s,module:t})=>{var a;const r=(a=s[parseInt(t)-1])==null?void 0:a.resources;return s!==null&&s.length<=0?e.createElement(e.Fragment,null,"No resources found."):e.createElement(e.Fragment,null,r.length>0?r.map((n,l)=>e.createElement("a",{className:"underline text-blue-400 block",href:"",key:l},n)):e.createElement(e.Fragment,null,"No resources found."))},oe=({data:s,module:t})=>{var a;const r=(a=s[parseInt(t)-1])==null?void 0:a.exercises;return s!==null&&s.length<=0?e.createElement(e.Fragment,null,"No exercises found."):e.createElement(e.Fragment,null,r.length>0?r.map((n,l)=>e.createElement("a",{className:"underline text-blue-400 block",href:"",key:l},n)):e.createElement(e.Fragment,null,"No exercises found."))};console.log("production");const y={path:"../assets/modules"},ce=s=>{const[t,r]=o.exports.useState("1"),[a,n]=o.exports.useState(),[l,m]=o.exports.useState("# Hello"),[h,f]=o.exports.useState("../../assets/modules/1/1.mp4"),[u,E]=o.exports.useState(!0),[d,C]=o.exports.useState("edit"),[w,J]=o.exports.useState(""),[g,W]=o.exports.useState(!1),[p,b]=o.exports.useState("Overview"),[R,q]=o.exports.useState([]),{id:O,videoID:z,timestamp:xe}=D();o.exports.useEffect(()=>{r(O),n(z),window.api.send("toMain","_"),window.api.receive("fromMain",v=>{q(v)});const c=`${y.path}/${t}/index.md`,x=`${y.path}/${t}/${a}.mp4`;k(c,"md").then(v=>{m(v),f(x),E(x!==h)}).catch(v=>{console.error(v),E(!1)})},[s,t,h,d,a]);const K=c=>{try{localStorage.setItem(`module${t}/video${a}`,JSON.stringify({time:c}))}catch(x){console.log(x)}};return u&&O!==t?e.createElement(e.Fragment,null,"loading...."):e.createElement(_,null,e.createElement(G,{when:w.length>0,message:`${w.length}
                    You have unsaved notes. If you leave the page, your notes will be gone. Please consider saving your notes to your computer using the save notes button.`}),e.createElement("h1",{className:"text-2xl mx-auto"},"Welcome to ",s.title," - Module ",t," / Video ",a),e.createElement(i,{className:"absolute top-4 right-1 px-4 py-2 rounded-lg",size:"sm",variant:"secondary",onClick:()=>W(!g)},"Switch views"),e.createElement("div",{className:`flex mt-3 ${g?"flex-row justify-between items-start":"flex-col items-center"}`},e.createElement("div",{className:`aspect-w-16 aspect-h-9 ${g?"w-full mr-2":"w-full"}`},e.createElement(Q,{width:`${g?"auto":"100%"}`,height:`${g?"auto":"100%"}`,url:h,controls:!0,onProgress:c=>{K(c.playedSeconds.toFixed())},onReady:c=>{try{let x=localStorage.getItem(`module${t}/video${a}`);if(typeof x=="string"){let{time:v}=JSON.parse(x),F=parseInt(v);F!==0&&c.seekTo(F,"seconds")}}catch(x){console.error(x)}},onPlay:()=>{localStorage.removeItem(`module${t}/video${a}`)},onSeek:()=>{localStorage.removeItem(`module${t}/video${a}`)}})),e.createElement("div",{className:`w-full ${g?"flex flex-col":"block"}`},e.createElement("section",{className:"flex flex-row w-full my-4",style:{boxShadow:"inset 0 -2px rgba(0,0,0,0.1)"}},e.createElement(i,{size:"small",name:"Search",variant:p==="Search"?"active":"default",onClick:c=>b(c.target.name),className:"pr-4 pl-0"},"Search transcript"),e.createElement(i,{size:"small",name:"Overview",variant:p==="Overview"?"active":"default",onClick:c=>b(c.target.name),className:"px-4"},"Overview"),e.createElement(i,{size:"small",name:"Notes",variant:p==="Notes"?"active":"default",onClick:c=>b(c.target.name),className:"px-4"},"Notes"),e.createElement(i,{size:"small",name:"Resources",variant:p==="Resources"?"active":"default",onClick:c=>b(c.target.name),className:"px-4"},"Resources"),e.createElement(i,{size:"small",name:"Exercises",variant:p==="Exercises"?"active":"default",onClick:c=>b(c.target.name),className:"px-4"},"Exercises")),e.createElement("section",{className:`w-full ${p==="Search"?"visible":"hidden"}`},e.createElement("input",{className:"shadow-inner w-full border-2 border-gray-100 focus:ring-2 focus:ring-blue-400 outline-none py-2 px-4 my-3 transition-all",type:"text",placeholder:"Search through lesson's transcript"})),e.createElement("section",{className:`${p==="Overview"?"visible":"hidden"}`},e.createElement(T,{content:l})),e.createElement("section",{className:`my-5 bg-gray-100 shadow-md py-2 px-2 border border-gray-200 ${g?"w-full ml-2":"w-full"} ${p==="Notes"?"visible":"hidden"}`},e.createElement("div",{className:"flex flex-row"},e.createElement(i,{size:"small",onClick:()=>C("edit"),variant:d==="edit"?"tabActive":"tabInactive",className:"px-4"},"Edit"),e.createElement(i,{size:"small",onClick:()=>C("live"),variant:d==="live"?"tabActive":"tabInactive",className:"px-4"},"Live edit"),e.createElement(i,{size:"small",onClick:()=>C("preview"),variant:d==="preview"?"tabActive":"tabInactive",className:"px-4"},"Preview")),e.createElement("section",{className:"mb-2 border-0"},e.createElement(U,{value:w,onChange:J,hideToolbar:!0,preview:d})),e.createElement("div",{className:"flex justify-end"},e.createElement(i,{size:"small",onClick:()=>{let c=new Blob([w],{type:"text/plain;charset=utf-8"});I.saveAs(c,`module_${O}-lesson_${z}-notes.md`)},variant:"success",className:"w-1/5 ml-2 block rounded-lg mb-2"},"Save notes")),e.createElement("i",{className:"text-xs text-gray-500 text-right block w-full"},"Please note that in order to save your notes you need to have write privileges on your computer.")),e.createElement("section",{className:`${p==="Resources"?"visible":"hidden"}`},e.createElement(le,{data:R,module:t})),e.createElement("section",{className:`${p==="Exercises"?"visible":"hidden"}`},e.createElement(oe,{data:R,module:t})))))},H=()=>{const[s,t]=o.exports.useState("# Welcome to ENMA 600");return o.exports.useEffect(()=>{let r=!0;return k(`${y.path}/index.md`,"md").then(a=>{r&&t(a)}).catch(a=>console.error(a)),function(){r=!1}},[]),e.createElement(_,null,e.createElement(V,{options:{overrides:{h1:{props:{className:"text-2xl font-bold text-gray-800"}},h2:{props:{className:"text-xl pb-2 text-gray-700"}},h3:{props:{className:"text-lg pb-1 text-gray-500"}}}}},s))},ie=s=>{const[t,r]=o.exports.useState([]),[a,n]=o.exports.useState("# Hello"),[l,m]=o.exports.useState("Overview"),{id:h}=D(),f=h;return o.exports.useEffect(()=>{let u=!0;if(u){window.api.send("toMain","_"),window.api.receive("fromMain",d=>{r(d)});const E=`${y.path}/${f}/index.md`;k(E,"md").then(d=>{n(d)}).catch(d=>{console.error(d)})}return function(){u=!1}},[f]),e.createElement("section",{className:"flex flex-col w-full"},e.createElement("h1",{className:"text-2xl block"},"This is Lesson ",f),e.createElement("section",{className:"flex flex-row w-full my-4",style:{boxShadow:"inset 0 -2px rgba(0,0,0,0.1)"}},e.createElement(i,{size:"small",name:"Overview",variant:l==="Overview"?"active":"default",onClick:u=>m(u.target.name),className:"px-4"},"Overview"),e.createElement(i,{size:"small",name:"Resources",variant:l==="Resources"?"active":"default",onClick:u=>m(u.target.name),className:"px-4"},"Resources"),e.createElement(i,{size:"small",name:"Exercises",variant:l==="Exercises"?"active":"default",onClick:u=>m(u.target.name),className:"px-4"},"Exercises"),e.createElement(i,{size:"small",name:"Videos",variant:l==="Videos"?"active":"default",onClick:u=>m(u.target.name),className:"px-4"},"Videos")),e.createElement("section",{className:`px-4 ${l==="Overview"?"visible":"hidden"}`},e.createElement(T,{content:a})),e.createElement("section",{className:`px-4 ${l==="Resources"?"visible":"hidden"}`},e.createElement(me,{data:t,lessonNumber:f})),e.createElement("section",{className:`px-4 ${l==="Exercises"?"visible":"hidden"}`},e.createElement(ue,{data:t,lessonNumber:f})),e.createElement("section",{className:`px-4 ${l==="Videos"?"visible":"hidden"}`},e.createElement(de,{data:t,lessonNumber:f})))},me=({data:s,lessonNumber:t})=>{var r,a;return e.createElement("section",null,((r=s[t-1])==null?void 0:r.resources.length)!==0?(a=s[t-1])==null?void 0:a.resources.map((n,l)=>e.createElement("button",{className:"block underline text-blue-400",key:l,onClick:()=>{new Blob([n],{type:"text/plain;charset=utf-8"}),I.saveAs(`../../assets/modules/${t}/Resources/${n}`,n)}},n)):e.createElement(e.Fragment,null,"No resources found for this module."))},ue=({data:s,lessonNumber:t})=>{var r,a;return e.createElement("section",{className:""},((r=s[t-1])==null?void 0:r.exercises.length)!==0?(a=s[t-1])==null?void 0:a.exercises.map((n,l)=>e.createElement("button",{className:"block underline text-blue-400",key:l,onClick:()=>{new Blob([n],{type:"text/plain;charset=utf-8"}),I.saveAs(`../../assets/modules/${t}/Exercises/${n}`,n)}},n)):e.createElement(e.Fragment,null,"No exercises found for this module."))},de=({data:s,lessonNumber:t})=>{var r,a;return e.createElement("section",{className:""},((r=s[t-1])==null?void 0:r.videos.length)!==0?(a=s[t-1])==null?void 0:a.videos.map((n,l)=>e.createElement($,{className:"block underline text-blue-400",to:`/modules/${t}/${n}`,key:l},"Lecture ",n)):e.createElement(e.Fragment,null,"No lecture videos found for this module."))},pe=()=>{const[s,t]=o.exports.useState("");return o.exports.useEffect(()=>{const r=`${y.path}/index.json`;k(r,"json").then(a=>{t(a.title)})}),e.createElement("main",{className:"flex flex-row"},e.createElement(X,null,e.createElement(re,{title:s}),e.createElement(Z,null,e.createElement(S,{exact:!0,path:"/",component:H}),e.createElement(S,{exact:!0,path:"/home",component:H}),e.createElement(S,{exact:!0,path:"/modules/:id",component:ie}),e.createElement(S,{exact:!0,path:"/modules/:id/:videoID",component:ce}))))};ee.render(e.createElement(e.StrictMode,null,e.createElement(pe,null)),document.getElementById("root"));
